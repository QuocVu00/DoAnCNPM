{% extends "base.html" %}
{% block title %}Xe ƒëang ·ªü b√£i - Smart Parking{% endblock %}

{% block content %}
<h3 class="mb-3 d-flex align-items-center">
  <span style="font-size: 1.8rem; margin-right: 0.5rem;">üÖøÔ∏è</span>
  <span>Danh s√°ch xe ƒëang ·ªü b√£i</span>
</h3>

<div class="card shadow-sm border-0">
  <div class="card-body">
    {% if vehicles and vehicles|length > 0 %}
      <div class="table-responsive">
        <table class="table table-striped align-middle">
          <thead>
            <tr>
              <th>#</th>
              <th>Lo·∫°i</th>
              <th>Bi·ªÉn s·ªë</th>
              <th>Lo·∫°i xe</th>
              <th>Ch·ªß xe</th>
              <th>V·ªã tr√≠ / Ph√≤ng</th>
              <th>Th·ªùi gian v√†o (kh√°ch ngo√†i)</th>
              <th>M√£ v√©</th>
            </tr>
          </thead>
          <tbody>
            {% for v in vehicles %}
              <tr>
                <td>{{ loop.index }}</td>
                <td>
                  {% if v.source == 'resident' %}
                    <span class="badge bg-primary">C∆∞ d√¢n</span>
                  {% else %}
                    <span class="badge bg-success">Kh√°ch ngo√†i</span>
                  {% endif %}
                </td>
                <td><strong>{{ v.plate_number or '-' }}</strong></td>
                <td>{{ v.vehicle_type or '-' }}</td>
                <td>{{ v.owner_name or '-' }}</td>
                <td>{{ v.location or '-' }}</td>
                <td>{{ v.checkin_display or '-' }}</td>
                <td>{{ v.ticket_code or '-' }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p class="text-muted mb-0">
        Hi·ªán t·∫°i kh√¥ng c√≥ xe n√†o ƒëang ·ªü trong b√£i.
      </p>
    {% endif %}
  </div>
</div>
{% endblock %}
